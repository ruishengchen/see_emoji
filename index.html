<head>
<title>See Emoji</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link rel="apple-touch-icon" href="/icon.png">
<meta name="apple-mobile-web-app-title" content="See Emoji">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<style>
body {
  background-color: #000;
  color: #fff;
  font-family: Arial, sans-serif;
  display: flex;
  justify-content: center;
	min-height: 100vh;
  width: 100%;
}
p{
width: 300px;
  max-width: 100%;
  margin-top: 16px;
  display: flex;
  justify-content: center;
  align-items: center;
  word-break: break-all;
}
a {
  color: #fff;
  text-decoration: none;
}
#output {
  width: 300px;
  max-width: 100%;
  margin-top: 16px;
  display: flex;
  justify-content: center;
  align-items: center;
  word-break: break-all;
}
#banner{
width: 300px;
}
textarea {
  background-color: #333;
  border: none;
  border-radius: 4px;
  color: #fff;
  font-size: 18px;
  padding: 8px;
  width: 300px;
  height: 300px;
  box-sizing: border-box;
  border: 2px solid gray;
display: block;
	border: 1px solid #ccc;
	border-radius: 5px;
	padding: 10px;
	font-size: 1em;
	line-height: 1.5;
	margin-bottom: 20px;
height: auto;
min-height: 1em;
			overflow: hidden; /* 防止出現滾動條 */
			resize: none;
}

button{
  background-color: #fff;
  border: none;
  border-radius: 4px;
  color: #000;
  cursor: pointer;
  font-size: 14px;
  padding: 8px;
  width: 300px;
}

button:hover,
input[type="button"]:hover,
input[type="submit"]:hover {
  background-color: #000;
  color: #fff;
}

.card {
  background-color: #333;
  border-radius: 4px;
  box-shadow: 0px 0px 4px rgba(255, 255, 255, 0.2);
  margin: 16px;
  padding: 16px;
}

.card:hover {
  box-shadow: 0px 0px 8px rgba(255, 255, 255, 0.4);
}

.form-group {
  margin-bottom: 16px;
}

.form-group label {
  display: block;
  margin-bottom: 8px;
}

.form-group input[type="text"],
.form-group input[type="email"],
.form-group input[type="password"],
.form-group textarea {
  width: 100%;
}

.btn {
  background-color: #fff;
  border: none;
  border-radius: 4px;
  color: #000;
  cursor: pointer;
  font-size: 14px;
  padding: 8px 16px;
}

.btn:hover {
  background-color: #000;
  color: #fff;
}
div{
width: 300px;
cursor: pointer;
}



#popupWindow {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 999;
  padding: 10px;
  box-sizing: border-box;
  align-items: center;
}

#popupWindow h3 {
  color: #fff;
}

#popupWindow button {
  display: block;
  margin: 10px;
  padding: 10px;
  font-size: 16px;
  background-color: #fff;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

#popupWindow button:hover {
  background-color: #ccc;
}

	</style>
</head>
<body>
<!-- 彈出視窗 -->
<div id="popupWindow">
  <h3>選擇要複製的文字</h3>
  <button class="copyBtn" data-text="Hello">Hello</button>
  <button class="copyBtn" data-text="World">World</button>
  <button class="copyBtn" data-text="JavaScript">JavaScript</button>
  <button id="closeBtn">關閉</button>
</div>

<main>
<img id="banner" src="/banner.png"></img>
<br><br>
<p>輸入含有表情符號的文字</p>
<textarea id="input" oninput="autoResize.call(this);"></textarea>
<div id="output"></div>
<br><br>
<button id="popupBtn">尋找符號</button><br><br>
<button onclick="window.location='http://www.portaly.cc/it._.learning';">下載APP</button><br><br>
<button onclick="window.location='http://www.portaly.cc/it._.learning';">聯繫開發者</button><br><br>
<p>本工具由小學生 學電腦開發提供</p>
<p>Emoji圖片來自EmojiAll</p>
</main>
<script>
// 選取元素
const popupBtn = document.getElementById('popupBtn');
const popupWindow = document.getElementById('popupWindow');
const closeBtn = document.getElementById('closeBtn');
const copyBtns = document.querySelectorAll('.copyBtn');

// 點擊按鈕顯示彈出視窗
popupBtn.addEventListener('click', function() {
  popupWindow.style.display = 'block';
});

// 點擊複製按鈕複製文字
copyBtns.forEach(function(copyBtn) {
  copyBtn.addEventListener('click', function() {
    const text = this.getAttribute('data-text');
    navigator.clipboard.writeText(text).then(function() {
      console.log('Text copied to clipboard: ' + text);
    }, function() {
      console.error('Failed to copy text to clipboard');
    });
  });
});

// 點擊關閉按鈕隱藏彈出視窗
closeBtn.addEventListener('click', function() {
  popupWindow.style.display = 'none';
});




const input = document.getElementById('input');
const output = document.getElementById('output');

function checkImageExists(url) {
  return new Promise((resolve, reject) => {
    const img = new Image();
    img.onload = function() {
      resolve(true);
    };
    img.onerror = function() {
      resolve(false);
    };
    img.src = url;
  });
}

function autoResize() {
			this.style.height = 'auto';
			this.style.height = (this.scrollHeight) + 'px';
		}

// 监听 textarea 输入事件
input.addEventListener('input', function() {
  // 获取 textarea 输入的文本
  let text = input.value;

  // 使用正则表达式替换 Unicode 表情符号为图片
  const regex = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g; // 匹配 Unicode 表情符号
  text = text.replace(regex, (match) => {
    const unicode = match.codePointAt(0).toString(16).toUpperCase().toLowerCase(); // 获取 Unicode 编码
    let imageUrl = `https://www.emojiall.com/images/60/apple/${unicode}.png`;
    
console.log(imageUrl);
    return `<img src="${imageUrl}" alt="${match}" width="20"/>`; // 返回替换后的 HTML
  });

  // 将替换后的文本插入到输出区域
  output.innerHTML = text;
});
</script>
</body>